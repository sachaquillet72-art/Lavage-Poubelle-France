https://lavage-poubelle-france-dymspjckkyacsshqwfb7hz.streamlit.app/

# Analyse Villes — Streamlit App

This project contains a Streamlit dashboard to analyze target cities for a local service.

Files:
- `app.py` — Streamlit application
- `generate_data.py` — script to generate `cities_data.csv` (synthetic dataset)
- `fetch_insee.py` — script to fetch all French communes from Geo API and save `cities_insee.csv`
- `requirements.txt` — required Python packages

Notes:
- This repository may include `cities_insee.csv` (official communes list) or it will be generated by running `python fetch_insee.py` locally.
- The app will prefer `cities_insee.csv` when present and synthesize missing analytic fields (revenu moyen, tranches d'âges) so it works out-of-the-box on Streamlit Cloud.

Quick start (local):

1. Create a virtualenv and activate it.
2. pip install -r requirements.txt
3. python generate_data.py  # creates cities_data.csv
4. python -m streamlit run app.py

Deploy on Streamlit Cloud:

1. Push this repository to GitHub.
2. Visit https://share.streamlit.io and connect your GitHub account.
3. Create a new app from your repo and select `app.py` as the entrypoint.

Notes:
- If you want nicer map tiles from Mapbox, set the environment variable `MAPBOX_API_KEY` (or `MAPBOX_TOKEN`) in your Streamlit Cloud app settings. The app falls back to OpenStreetMap automatically when no token is provided.
- In Streamlit Cloud app settings, set **Visibility** to Public (or "Anyone with link") if you want people to view the app without logging in.

